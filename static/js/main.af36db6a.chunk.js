(this.webpackJsonptext=this.webpackJsonptext||[]).push([[0],{146:function(e,t){},148:function(e,t){},158:function(e,t){},160:function(e,t){},187:function(e,t){},188:function(e,t){},193:function(e,t){},195:function(e,t){},202:function(e,t){},221:function(e,t){},238:function(e,t,c){},239:function(e,t,c){"use strict";c.r(t);var n=c(12),s=c.n(n),a=c(135),r=c.n(a),i=c(0),u=c.n(i),o=c(6),l=c(1),j=c(13),b=c(56),x=c(31),d=c(136),O=Object(d.a)({apiKey:"AIzaSyAXfWccPtWxAOFHWjV10fK23zkTr9cSiwk",authDomain:"text-27c95.firebaseapp.com",databaseURL:"https://text-27c95-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"text-27c95",storageBucket:"text-27c95.appspot.com",messagingSenderId:"778098779621",appId:"1:778098779621:web:c64604858feba9e1cabb0c"}),f=c(36),h=c(16),p=c(137);function v(e,t){var c,n=[e,t];return n.sort(),n=n[0]+n[1],c=n,n=Object(p.createHash)("sha256").update(c).digest("hex")}function m(e,t){return _.apply(this,arguments)}function _(){return(_=Object(l.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.g)(Object(h.b)(g,"Chats",v(t,c)),{history:[]});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(l.a)(u.a.mark((function e(t,c,n){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(Object(h.b)(g,"Chats",v(t,c)));case 2:(s=(s=(s=e.sent).data()).history).push({by:t,message:n}),Object(h.g)(Object(h.b)(g,"Chats",v(t,c)),{history:s});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=Object(h.e)(O);Object(h.a)(g,"User");function F(e,t){return N.apply(this,arguments)}function N(){return(N=Object(l.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.g)(Object(h.b)(g,"User",t),c);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(u.a.mark((function e(t,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.g)(Object(h.b)(g,"User",t),c,{merge:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(l.a)(u.a.mark((function e(t,c){var n,s,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(h.f)(Object(h.a)(g,"User"),Object(h.h)("email","==",c)),e.next=3,Object(h.d)(n);case 3:return s=e.sent,a=!!s.docs,e.next=7,S(t);case 7:if(r=e.sent,!a||!r||r.email===c){e.next=22;break}return(r=r.contacts).push(s.docs[0].id),e.next=13,y(t,{contacts:r});case 13:return e.next=15,S(s.docs[0].id);case 15:return(r=(r=e.sent).contacts).push(t),e.next=20,y(s.docs[0].id,{contacts:r});case 20:return e.next=22,m(t,s.docs[0].id);case 22:return e.abrupt("return",a);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return(w=Object(l.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.c)(Object(h.b)(g,"User",t));case 2:return c=e.sent,e.abrupt("return",c.data());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=Object(f.c)(O),A=new f.b,L=new f.a;function U(){Object(f.d)(I,A).then((function(e){console.log(e.user),F(e.user.uid,{displayName:e.user.displayName,email:e.user.email,photoURL:e.user.photoURL,uid:e.user.uid,contacts:[]})})).catch((function(e){console.log(e)}))}function H(){Object(f.d)(I,L).then((function(e){console.log(e.user),F(e.user.uid,{displayName:e.user.displayName,email:e.user.email,photoURL:e.user.photoURL,uid:e.user.uid,contacts:[]})})).catch((function(e){console.log(e)}))}var D=c(7);function E(){return Object(D.jsx)("div",{className:"Flex Flex_JC_Center Flex_AI_Center W_FullScreen H_FullScreen",children:Object(D.jsxs)("div",{className:"Box GetIn_Specific Flex Flex_Align_Column",children:[Object(D.jsx)("div",{className:"BoxHeader",children:"GetIn"}),Object(D.jsx)("div",{className:"BoxBody FlexAuto",children:Object(D.jsxs)("div",{className:"Flex H_100 Flex_Align_Column Flex_JC_Center",children:[Object(D.jsxs)("button",{className:"Btn Btn_Blue Flex Flex_JC_SpaceEvenly",onClick:U,children:[Object(D.jsx)("span",{className:"bi bi-google"})," Get In With Google"]}),Object(D.jsxs)("button",{className:"Btn Btn_Blue Flex Flex_JC_SpaceEvenly",onClick:H,children:[Object(D.jsx)("span",{className:"bi bi-facebook"})," Get In With FaceBook"]})]})})]})})}function P(e){var t=e.setModal,c=Object(n.useState)(""),s=Object(j.a)(c,2),a=s[0],r=s[1],i=Object(n.useContext)(z);return Object(D.jsxs)("div",{className:"modal_view",children:[Object(D.jsxs)("div",{class:"Add_Contact_Modal",children:[Object(D.jsx)("div",{children:Object(D.jsx)("input",{type:"text",onChange:function(e){r(e.target.value)},val:a,placeholder:"friend@friend.in"})}),Object(D.jsxs)("div",{className:"Flex Flex_AI_Center Flex_JC_SpaceBetween",children:[Object(D.jsxs)("button",{class:"Btn Btn_Red",onClick:function(){t(!1)},children:[Object(D.jsx)("span",{className:"bi bi-x"})," Close"]}),Object(D.jsxs)("button",{class:"Btn Btn_Blue",onClick:function(){(function(e,t){return B.apply(this,arguments)})(i.uid,a).then((function(e){!0===e&&t(!1)}))},children:[Object(D.jsx)("span",{className:"bi bi-check"})," Done"]})]})]}),Object(D.jsx)("div",{className:"ModalOverlay"})]})}function R(e){var t=Object(n.useContext)(K),c=Object(n.useContext)(V);return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"Chat_Specific Flex Flex_AI_Center"+(t===e.userData.uid?" HighLighted":""),onClick:function(){c(e.userData.uid),e.toggleChatList()},children:[e.userData?Object(D.jsx)("img",{className:"ChatProfile",src:e.userData.photoURL,alt:"I"}):Object(D.jsx)(D.Fragment,{}),e.userData?e.userData.displayName:Object(D.jsx)(D.Fragment,{})]})})}function J(e){var t=e.toggleChatList,c=Object(n.useContext)(X),s=Object(n.useState)(!1),a=Object(j.a)(s,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){}),[]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"ChatList_Specific",children:[c&&c.map((function(e,c){return Object(D.jsx)(R,{userData:e,toggleChatList:t},c)})),Object(D.jsx)("div",{class:"Btn_Icon_Inverse Add_Person_Btn",onClick:function(){i(!0)},children:Object(D.jsx)("span",{className:"bi bi-person-plus-fill"})})]}),r&&Object(D.jsx)(P,{setModal:i}),Object(D.jsx)("div",{className:"OverLay"})]})}function W(){var e=Object(n.useContext)(K),t=Object(n.useContext)(z),c=Object(n.useState)(""),s=Object(j.a)(c,2),a=s[0],r=s[1];function i(){r((function(e){return""})),function(e,t,c){C.apply(this,arguments)}(t.uid,e,a)}return Object(D.jsxs)("div",{className:"Flex ChatBox_Specific H_3rem",children:[Object(D.jsx)("div",{className:"FlexAuto",children:Object(D.jsx)("input",{type:"text",placeholder:"Enter the message",onChange:function(e){r(e.target.value)},value:a,onKeyDown:function(e){"Enter"===e.key&&i()}})}),Object(D.jsx)("div",{className:"Btn_Icon SendIcon_Specific",children:Object(D.jsx)("span",{className:"bi bi-play",onClick:i})})]})}function G(){var e=Object(n.useContext)(K),t=Object(n.useContext)(z),c=Object(n.useState)([]),s=Object(j.a)(c,2),a=s[0],r=s[1],i=Object(n.useRef)(null);return Object(n.useEffect)((function(){e&&t&&Object(x.f)(Object(x.b)(g,"Chats",v(t.uid,e)),(function(e){r(e.data().history)}))}),[e,t]),Object(n.useEffect)((function(){i.current.scrollTop=i.current.scrollHeight}),[a]),Object(D.jsxs)("div",{className:"Flex Flex_Align_Column W_FullScreen",children:[Object(D.jsx)("div",{className:"FlexAuto ChatView_Specific",ref:i,children:e?Object(D.jsxs)(D.Fragment,{children:[a&&a.map((function(e,c){return Object(D.jsx)("div",{className:e.by===t.uid?"right":"left",children:e.message},c)})),Object(D.jsx)("br",{})]}):Object(D.jsx)("div",{className:"Flex Flex_AI_Center Flex_JC_Center",style:{color:"#969ba0",fontSize:"1.2rem",height:"calc( 100vh - 3rem )",textAlign:"center"},children:"Please click on the top left icon to get started"})}),e&&Object(D.jsx)(W,{})]})}function M(e){return Object(D.jsxs)("div",{className:"H_3rem Bg_Blue Text_White NavBar_Specific Flex Flex_AI_Center",children:[Object(D.jsx)("div",{className:"NavBarChatListIcon Btn_Icon",onClick:e.toggleChatList,children:Object(D.jsx)("span",{className:"bi bi-person-lines-fill"})}),Object(D.jsx)("div",{className:"NavBarTitle",children:"Text"})]})}function T(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1];function a(){s((function(e){return!e}))}return Object(D.jsxs)("div",{className:"Pos_Relative Flex Flex_Align_Column H_FullScreen Home_Specific",children:[Object(D.jsx)(M,{toggleChatList:a}),Object(D.jsxs)("div",{className:"FlexAuto Flex",children:[c&&Object(D.jsx)(J,{toggleChatList:a}),Object(D.jsx)(G,{})]})]})}var z=Object(n.createContext)(),K=Object(n.createContext)(),V=Object(n.createContext)(),X=Object(n.createContext)();var q=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(void 0),r=Object(j.a)(a,2),i=r[0],d=r[1],O=Object(n.useState)([]),f=Object(j.a)(O,2),h=f[0],p=f[1];return Object(n.useEffect)((function(){Object(b.d)(I,(function(e){s(e)})),c&&Object(x.f)(Object(x.b)(g,"User",c.uid),function(){var e=Object(l.a)(u.a.mark((function e(t){var c,n,s,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],n=Object(o.a)(t.data().contacts),e.prev=2,n.s();case 4:if((s=n.n()).done){e.next=12;break}return a=s.value,e.next=8,S(a);case 8:r=e.sent,c.push(r);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:p(c);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(t){return e.apply(this,arguments)}}())}),[c]),Object(D.jsx)(z.Provider,{value:c,children:Object(D.jsx)(K.Provider,{value:i,children:Object(D.jsx)(V.Provider,{value:d,children:Object(D.jsx)(X.Provider,{value:h,children:Object(D.jsx)("div",{children:c?Object(D.jsx)(T,{}):Object(D.jsx)(E,{})})})})})})};c(238);r.a.render(Object(D.jsx)(s.a.StrictMode,{children:Object(D.jsx)(q,{})}),document.getElementById("root"))}},[[239,1,2]]]);
//# sourceMappingURL=main.af36db6a.chunk.js.map