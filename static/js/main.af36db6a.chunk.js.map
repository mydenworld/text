{"version":3,"sources":["components/FireBase/FB.js","components/FireBase/RealtimeDB.js","components/FireBase/Crypt.js","components/FireBase/FirestoreDB.js","components/FireBase/Authentication.js","components/GetIn/GetIn.js","components/Home/AddUser.js","components/Home/Chat.js","components/Home/ChatList.js","components/Home/ChatBox.js","components/Home/ChatView.js","components/Home/NavBar.js","components/Home/Home.js","components/App.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ChatHash","uid1","uid2","text","array","sort","createHash","update","digest","makeChat","a","setDoc","doc","FireStoreDb","history","message","getDoc","result","data","push","by","getFirestore","collection","UserPut","uid","UserPutMerge","merge","OurUid","email","q","query","where","getDocs","docs","exists","GetUser","contacts","id","auth","getAuth","GoogleAuth","GoogleAuthProvider","FacebookAuth","FacebookAuthProvider","SignInWithGoogle","signInWithPopup","then","console","log","user","displayName","photoURL","catch","error","SignInWithFacebook","GetIn","className","onClick","AddUser","setModal","useState","contact","setContact","useContext","UserContext","class","type","onChange","elem","target","value","val","placeholder","IsValidUserEmail","Chat","props","currentChat","CurrentChat","setCurrentChat","SetCurrentChat","userData","toggleChatList","src","alt","ChatList","allChats","AllChats","modal","useEffect","map","key","ChatBox","currentUser","setMessage","handleSubmit","prev","addChat","element","onKeyDown","ChatView","chatHistory","setChatHistory","View","useRef","onSnapshot","current","scrollTop","scrollHeight","ref","style","color","fontSize","height","textAlign","NavBar","Home","ChatListView","setChatListView","createContext","App","User","setUser","undefined","setAllChats","onAuthStateChanged","contactDetails","each","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yaAkBeA,EADHC,YAXW,CACrBC,OAAQ,0CACRC,WAAY,6BACZC,YAAa,uEACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,8C,yBCTF,SAASC,EAASC,EAAMC,GAC3B,ICH4BC,EDGxBC,EAAQ,CAACH,EAAMC,GAInB,OAHAE,EAAMC,OACND,EAAQA,EAAM,GAAKA,EAAM,GCLGD,EDMZC,EAAhBA,ECLOE,qBAAW,UAAUC,OAAOJ,GAAMK,OAAO,ODS7C,SAAeC,EAAtB,oC,4CAAO,WAAwBR,EAAMC,GAA9B,SAAAQ,EAAA,sEACGC,YAAOC,YAAIC,EAAa,QAASb,EAASC,EAAMC,IAAQ,CAC1DY,QAAS,KAFV,4C,kEAMA,WAAuBb,EAAMC,EAAMa,GAAnC,eAAAL,EAAA,sEACgBM,YAAOJ,YAAIC,EAAa,QAASb,EAASC,EAAMC,KADhE,QAGHe,GADAA,GADIA,EADD,QAEaC,QACAJ,SACTK,KAAK,CACRC,GAAInB,EACJc,QAASA,IAEbJ,YAAOC,YAAIC,EAAa,QAASb,EAASC,EAAMC,IAAQ,CACpDY,QAASG,IATV,4C,sBELP,IAAMJ,EAAcQ,YAAa9B,GACjB+B,YAAWT,EAAY,QAIhC,SAAeU,EAAtB,oC,4CAAO,WAAuBC,EAAKN,GAA5B,SAAAR,EAAA,sEACGC,YAAOC,YAAIC,EAAa,OAAQW,GAAMN,GADzC,4C,sBAGA,SAAeO,EAAtB,oC,4CAAO,WAA4BD,EAAKN,GAAjC,SAAAR,EAAA,sEACGC,YAAOC,YAAIC,EAAa,OAAQW,GAAMN,EAAM,CAAEQ,OAAO,IADxD,4C,kEAGA,WAAgCC,EAAOC,GAAvC,qBAAAlB,EAAA,6DACCmB,EAAIC,YAAMR,YAAWT,EAAa,QAASkB,YAAM,QAAS,KAAMH,IADjE,SAEcI,YAAQH,GAFtB,cAECI,EAFD,OAGCC,IAASD,EAAKA,KAHf,SAIkBE,EAAQR,GAJ1B,UAICS,EAJD,QAKAF,IAAUE,GAAYA,EAASR,QAAUA,EALzC,wBAMCQ,EAAWA,EAASA,UACXjB,KAAKc,EAAKA,KAAK,GAAGI,IAP5B,UAQOZ,EAAaE,EAAQ,CAAC,SAAYS,IARzC,yBASkBD,EAAQF,EAAKA,KAAK,GAAGI,IATvC,eAUCD,GADAA,EATD,QAUqBA,UACXjB,KAAKQ,GAXf,UAYOF,EAAaQ,EAAKA,KAAK,GAAGI,GAAI,CAAC,SAAYD,IAZlD,yBAaO3B,EAASkB,EAAQM,EAAKA,KAAK,GAAGI,IAbrC,iCAeIH,GAfJ,6C,sBAiBA,SAAeC,EAAtB,kC,4CAAO,WAAuBX,GAAvB,eAAAd,EAAA,sEACgBM,YAAOJ,YAAIC,EAAa,OAAQW,IADhD,cACCP,EADD,yBAEIA,EAAOC,QAFX,4C,sBC/BP,IAAMoB,EAAOC,YAAQhD,GACfiD,EAAY,IAAIC,IAChBC,EAAe,IAAIC,IAIlB,SAASC,IACZC,YAAgBP,EAAME,GAAYM,MAAK,SAAC7B,GACpC8B,QAAQC,IAAI/B,EAAOgC,MACnB1B,EAAQN,EAAOgC,KAAKzB,IAAI,CACpB0B,YAAajC,EAAOgC,KAAKC,YACzBtB,MAAOX,EAAOgC,KAAKrB,MACnBuB,SAAUlC,EAAOgC,KAAKE,SACtB3B,IAAKP,EAAOgC,KAAKzB,IACjBY,SAAU,QAEfgB,OAAM,SAACC,GACNN,QAAQC,IAAIK,MAGb,SAASC,IACZT,YAAgBP,EAAMI,GAAcI,MAAK,SAAC7B,GACtC8B,QAAQC,IAAI/B,EAAOgC,MACnB1B,EAAQN,EAAOgC,KAAKzB,IAAI,CACpB0B,YAAajC,EAAOgC,KAAKC,YACzBtB,MAAOX,EAAOgC,KAAKrB,MACnBuB,SAAUlC,EAAOgC,KAAKE,SACtB3B,IAAKP,EAAOgC,KAAKzB,IACjBY,SAAU,QAEfgB,OAAM,SAACC,GACNN,QAAQC,IAAIK,M,WCtCL,SAASE,IACpB,OACI,qBAAKC,UAAU,+DAAf,SACI,sBAAKA,UAAU,4CAAf,UACI,qBAAKA,UAAU,YAAf,mBAGA,qBAAKA,UAAU,mBAAf,SACI,sBAAKA,UAAU,8CAAf,UACI,yBAAQA,UAAU,wCAAwCC,QAASb,EAAnE,UACI,sBAAMY,UAAU,iBADpB,yBAGA,yBAAQA,UAAU,wCAAwCC,QAASH,EAAnE,UACI,sBAAME,UAAU,mBADpB,qCCVT,SAASE,EAAT,GAA8B,IAAZC,EAAW,EAAXA,SAAW,EAEVC,mBAAS,IAFC,mBAEjCC,EAFiC,KAExBC,EAFwB,KAIlCb,EAAOc,qBAAWC,GAcxB,OACI,sBAAKR,UAAU,aAAf,UACI,sBAAKS,MAAM,oBAAX,UACI,8BACI,uBAAOC,KAAK,OAAOC,SAhBnC,SAAuBC,GACnBN,EAAWM,EAAKC,OAAOC,QAeiCC,IAAKV,EAASW,YAAa,uBAE3E,sBAAKhB,UAAU,2CAAf,UACI,yBAAQS,MAAM,cAAcR,QAAS,WAAKE,GAAS,IAAnD,UAA4D,sBAAMH,UAAU,YAA5E,YACA,yBAAQS,MAAM,eAAeR,QAhB7C,YHSG,SAAP,qCGRQgB,CAAiBxB,EAAKzB,IAAKqC,GAASf,MAAK,SAAC7B,IACxB,IAAXA,GACC0C,GAAS,OAaL,UAAoD,sBAAMH,UAAU,gBAApE,iBAGR,qBAAKA,UAAU,oBC/BZ,SAASkB,EAAKC,GAEzB,IAAMC,EAAcb,qBAAWc,GACzBC,EAAiBf,qBAAWgB,GAOlC,OACI,mCACA,sBACIvB,UACI,qCAAuCoB,IAAgBD,EAAMK,SAASxD,IAAM,eAAiB,IAEjGiC,QAXR,WACIqB,EAAeH,EAAMK,SAASxD,KAC9BmD,EAAMM,kBAKN,UAMKN,EAAMK,SAAW,qBAAKxB,UAAU,cAAc0B,IAAKP,EAAMK,SAAS7B,SAAUgC,IAAI,MAAQ,6BACxFR,EAAMK,SAAWL,EAAMK,SAAS9B,YAAc,kCCjB5C,SAASkC,EAAT,GAAqC,IAAlBH,EAAiB,EAAjBA,eAExBI,EAAWtB,qBAAWuB,GAFmB,EAGrB1B,oBAAS,GAHY,mBAGxC2B,EAHwC,KAGjC5B,EAHiC,KAQ/C,OAHA6B,qBAAU,cACP,IAGC,qCACI,sBAAKhC,UAAU,oBAAf,UAEQ6B,GAAYA,EAASI,KAAI,SAACnB,EAAOoB,GAAR,OACrB,cAAChB,EAAD,CAAgBM,SAAUV,EAAOW,eAAgBA,GAAtCS,MAGnB,qBAAKzB,MAAM,kCAAkCR,QAAS,WAAKE,GAAS,IAApE,SAA4E,sBAAMH,UAAU,gCAE9F+B,GAAS,cAAC7B,EAAD,CAASC,SAAUA,IAC9B,qBAAKH,UAAU,eCpBZ,SAASmC,IAEpB,IAAMf,EAAcb,qBAAWc,GACzBe,EAAc7B,qBAAWC,GAHD,EAIAJ,mBAAS,IAJT,mBAIvB7C,EAJuB,KAId8E,EAJc,KAc9B,SAASC,IACLD,GAAW,SAAAE,GAAI,MAAK,MRDrB,SAAP,+BQEQC,CAAQJ,EAAYpE,IAAKoD,EAAa7D,GAE1C,OACI,sBAAKyC,UAAU,+BAAf,UACI,qBAAKA,UAAU,WAAf,SACI,uBACIU,KAAK,OACLM,YAAY,oBACZL,SAlBhB,SAAuB8B,GACnBJ,EAAWI,EAAQ5B,OAAOC,QAkBdA,MAAOvD,EACPmF,UAjBhB,SAAqBD,GACE,UAAhBA,EAAQP,KACPI,SAkBA,qBAAKtC,UAAU,6BAAf,SACI,sBAAMA,UAAU,aAAaC,QAASqC,SC3BvC,SAASK,IAEpB,IAAMvB,EAAcb,qBAAWc,GACzBe,EAAc7B,qBAAWC,GAHA,EAIOJ,mBAAS,IAJhB,mBAIxBwC,EAJwB,KAIXC,EAJW,KAMzBC,EAAOC,iBAAO,MAapB,OAXAf,qBAAU,WACHZ,GAAegB,GACdY,YAAW5F,YAAIC,EAAa,QAASb,EAAS4F,EAAYpE,IAAKoD,KAAe,SAAChE,GAC3EyF,EAAezF,EAAIM,OAAOJ,cAGnC,CAAC8D,EAAagB,IACjBJ,qBAAU,WACNc,EAAKG,QAAQC,UAAYJ,EAAKG,QAAQE,eACvC,CAACP,IAGA,sBAAK5C,UAAU,sCAAf,UACI,qBAAKA,UAAU,6BAA6BoD,IAAKN,EAAjD,SAEQ1B,EACI,qCACEwB,GACEA,EAAYX,KAAI,SAACnB,EAAOoB,GAAR,OACZ,qBAAelC,UAAYc,EAAMlD,KAAOwE,EAAYpE,IAAM,QAAU,OAApE,SAA6E8C,EAAMvD,SAAzE2E,MAGlB,0BAEJ,qBACIlC,UAAU,qCACVqD,MAAO,CACHC,MAAO,UACPC,SAAU,SACVC,OAAQ,uBACRC,UAAW,UANnB,gEAaNrC,GAAe,cAACe,EAAD,OClDd,SAASuB,EAAOvC,GAC3B,OACI,sBAAKnB,UAAU,gEAAf,UACI,qBAAKA,UAAU,8BAA8BC,QAASkB,EAAMM,eAA5D,SACI,sBAAMzB,UAAU,8BAEpB,qBAAKA,UAAU,cAAf,qBCHG,SAAS2D,IAAQ,IAAD,EAEavD,oBAAS,GAFtB,mBAEpBwD,EAFoB,KAENC,EAFM,KAI3B,SAASpC,IACLoC,GAAgB,SAAAtB,GAAI,OAAKA,KAG7B,OACI,sBAAKvC,UAAU,iEAAf,UACI,cAAC0D,EAAD,CAAQjC,eAAgBA,IACxB,sBAAKzB,UAAU,gBAAf,UACK4D,GAAgB,cAAChC,EAAD,CAAUH,eAAgBA,IAC3C,cAACkB,EAAD,UCVT,IAAMnC,EAAcsD,0BACdzC,EAAcyC,0BACdvC,EAAiBuC,0BACjBhC,EAAWgC,0BAoCTC,MAlCf,WAAgB,IAAD,EACa3D,oBAAS,GADtB,mBACJ4D,EADI,KACEC,EADF,OAE2B7D,wBAAS8D,GAFpC,mBAEJ9C,EAFI,KAESE,EAFT,OAGqBlB,mBAAS,IAH9B,mBAGJyB,EAHI,KAGMsC,EAHN,KAmBX,OAfAnC,qBAAU,WACNoC,YAAmBtF,GAAM,SAACW,GACtBwE,EAAQxE,MAETuE,GACChB,YAAW5F,YAAIC,EAAa,OAAQ2G,EAAKhG,KAA/B,uCAAqC,WAAOZ,GAAP,uBAAAF,EAAA,sDACvCmH,EAAiB,GADsB,cAE3BjH,EAAIM,OAAOkB,UAFgB,gEAEnC0F,EAFmC,iBAGtB3F,EAAQ2F,GAHc,OAGnC5G,EAHmC,OAIvC2G,EAAe1G,KAAKD,GAJmB,+IAM3CyG,EAAYE,GAN+B,gEAArC,yDASf,CAACL,IAEA,cAACxD,EAAY+D,SAAb,CAAsBzD,MAAOkD,EAA7B,SACI,cAAC3C,EAAYkD,SAAb,CAAsBzD,MAAOM,EAA7B,SACI,cAACG,EAAegD,SAAhB,CAAyBzD,MAAOQ,EAAhC,SACI,cAACQ,EAASyC,SAAV,CAAmBzD,MAAOe,EAA1B,SACI,8BACMmC,EAAO,cAACL,EAAD,IAAU,cAAC5D,EAAD,e,OCjC/CyE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.af36db6a.chunk.js","sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyAXfWccPtWxAOFHWjV10fK23zkTr9cSiwk\",\r\n  authDomain: \"text-27c95.firebaseapp.com\",\r\n  databaseURL: \"https://text-27c95-default-rtdb.asia-southeast1.firebasedatabase.app\",\r\n  projectId: \"text-27c95\",\r\n  storageBucket: \"text-27c95.appspot.com\",\r\n  messagingSenderId: \"778098779621\",\r\n  appId: \"1:778098779621:web:c64604858feba9e1cabb0c\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport default app;","import { setDoc, doc, getDoc } from \"firebase/firestore\"\r\nimport genHash from \"./Crypt\"\r\nimport { FireStoreDb } from \"./FirestoreDB\"\r\n\r\nexport function ChatHash(uid1, uid2){\r\n    let array = [uid1, uid2]\r\n    array.sort()\r\n    array = array[0] + array[1]\r\n    array = genHash(array)\r\n    return array\r\n}\r\n\r\nexport async function makeChat(uid1, uid2){\r\n    await setDoc(doc(FireStoreDb, 'Chats', ChatHash(uid1, uid2)), {\r\n        history: [],\r\n    })\r\n}\r\n\r\nexport async function addChat(uid1, uid2, message){\r\n    let result = await getDoc(doc(FireStoreDb, 'Chats', ChatHash(uid1, uid2)))\r\n    result = result.data()\r\n    result = result.history\r\n    result.push({\r\n        by: uid1,\r\n        message: message\r\n    })\r\n    setDoc(doc(FireStoreDb, 'Chats', ChatHash(uid1, uid2)), {\r\n        history: result,\r\n    })\r\n}\r\n\r\nexport async function getChat(uid1, uid2){\r\n    let result = await getDoc(doc(FireStoreDb, 'Chats', ChatHash(uid1, uid2)))\r\n    result = result.data()\r\n    result = result.history\r\n    return result\r\n}","import { createHash } from \"crypto\"; \r\n\r\nexport default function genHash(text){\r\n    return createHash('sha256').update(text).digest('hex')\r\n}","import app from \"./FB\";\r\nimport {\r\n    getFirestore, \r\n    setDoc,\r\n    collection, \r\n    doc, \r\n    getDoc,\r\n    getDocs, \r\n    query, \r\n    where\r\n} from 'firebase/firestore';\r\nimport { makeChat } from \"./RealtimeDB\";\r\n\r\nconst FireStoreDb = getFirestore(app)\r\nconst UserCol = collection(FireStoreDb,'User')\r\n\r\nexport {UserCol, FireStoreDb}\r\n\r\nexport async function UserPut(uid, data){\r\n    await setDoc(doc(FireStoreDb, 'User', uid), data)\r\n}\r\nexport async function UserPutMerge(uid, data){\r\n    await setDoc(doc(FireStoreDb, 'User', uid), data, { merge: true })\r\n}\r\nexport async function IsValidUserEmail(OurUid,email){\r\n    let q = query(collection(FireStoreDb, 'User'), where(\"email\", '==', email))\r\n    let docs = await getDocs(q)\r\n    let exists = docs.docs ? true : false\r\n    let contacts = await GetUser(OurUid)\r\n    if(exists && contacts && contacts.email !== email){\r\n        contacts = contacts.contacts\r\n        contacts.push(docs.docs[0].id)\r\n        await UserPutMerge(OurUid, {'contacts': contacts})\r\n        contacts = await GetUser(docs.docs[0].id)\r\n        contacts = contacts.contacts\r\n        contacts.push(OurUid)\r\n        await UserPutMerge(docs.docs[0].id, {'contacts': contacts})\r\n        await makeChat(OurUid, docs.docs[0].id)\r\n    }\r\n    return exists\r\n}\r\nexport async function GetUser(uid){\r\n    let result = await getDoc(doc(FireStoreDb, 'User', uid))\r\n    return result.data()\r\n}","import app from './FB';\r\nimport { \r\n    getAuth, \r\n    signInWithPopup, \r\n    GoogleAuthProvider, \r\n    FacebookAuthProvider,\r\n    signOut,\r\n} from 'firebase/auth';\r\nimport { UserPut } from './FirestoreDB';\r\n\r\nconst auth = getAuth(app)\r\nconst GoogleAuth= new GoogleAuthProvider()\r\nconst FacebookAuth = new FacebookAuthProvider()\r\n\r\nexport {auth}\r\n\r\nexport function SignInWithGoogle(){\r\n    signInWithPopup(auth, GoogleAuth).then((result)=>{\r\n        console.log(result.user)\r\n        UserPut(result.user.uid,{\r\n            displayName: result.user.displayName,\r\n            email: result.user.email,\r\n            photoURL: result.user.photoURL,\r\n            uid: result.user.uid,\r\n            contacts: [],\r\n        })\r\n    }).catch((error)=>{\r\n        console.log(error)\r\n    })\r\n}\r\nexport function SignInWithFacebook(){\r\n    signInWithPopup(auth, FacebookAuth).then((result)=>{\r\n        console.log(result.user)\r\n        UserPut(result.user.uid,{\r\n            displayName: result.user.displayName,\r\n            email: result.user.email,\r\n            photoURL: result.user.photoURL,\r\n            uid: result.user.uid,\r\n            contacts: [],\r\n        })\r\n    }).catch((error)=>{\r\n        console.log(error)\r\n    })\r\n}\r\nexport function SignOut(){\r\n    signOut(auth).then(()=>{\r\n        console.log(\"successfully signed out\")\r\n    }).catch(()=>{\r\n        console.log(\"could not sign out\")\r\n    })\r\n}","import React from 'react'\r\nimport {SignInWithGoogle, SignInWithFacebook} from '../FireBase/Authentication'\r\n\r\nexport default function GetIn() {\r\n    return (\r\n        <div className=\"Flex Flex_JC_Center Flex_AI_Center W_FullScreen H_FullScreen\">\r\n            <div className=\"Box GetIn_Specific Flex Flex_Align_Column\">\r\n                <div className=\"BoxHeader\">\r\n                    GetIn\r\n                </div>\r\n                <div className=\"BoxBody FlexAuto\">\r\n                    <div className=\"Flex H_100 Flex_Align_Column Flex_JC_Center\">\r\n                        <button className=\"Btn Btn_Blue Flex Flex_JC_SpaceEvenly\" onClick={SignInWithGoogle}>\r\n                            <span className=\"bi bi-google\"></span> Get In With Google\r\n                        </button>\r\n                        <button className=\"Btn Btn_Blue Flex Flex_JC_SpaceEvenly\" onClick={SignInWithFacebook}>\r\n                            <span className=\"bi bi-facebook\"></span> Get In With FaceBook\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { IsValidUserEmail } from '../FireBase/FirestoreDB';\r\nimport { UserContext } from '../App';\r\n\r\n\r\nexport default function AddUser({setModal}) {\r\n\r\n    const [contact, setContact] = useState('')\r\n\r\n    const user = useContext(UserContext)\r\n\r\n    function handleContact(elem){\r\n        setContact(elem.target.value);\r\n    }\r\n\r\n    function handleSubmit(){\r\n        IsValidUserEmail(user.uid, contact).then((result)=>{\r\n            if(result === true){\r\n                setModal(false)\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal_view\">\r\n            <div class=\"Add_Contact_Modal\">\r\n                <div>\r\n                    <input type=\"text\" onChange={handleContact} val={contact} placeholder={\"friend@friend.in\"} />\r\n                </div>\r\n                <div className=\"Flex Flex_AI_Center Flex_JC_SpaceBetween\">\r\n                    <button class=\"Btn Btn_Red\" onClick={()=>{setModal(false)}}><span className=\"bi bi-x\"></span> Close</button>\r\n                    <button class=\"Btn Btn_Blue\" onClick={handleSubmit}><span className=\"bi bi-check\"></span> Done</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"ModalOverlay\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { CurrentChat, SetCurrentChat } from '../App'\r\n\r\nexport default function Chat(props) {\r\n\r\n    const currentChat = useContext(CurrentChat)\r\n    const setCurrentChat = useContext(SetCurrentChat)\r\n\r\n    function handleClick(){\r\n        setCurrentChat(props.userData.uid)\r\n        props.toggleChatList()\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div \r\n            className={ \r\n                \"Chat_Specific Flex Flex_AI_Center\" + (currentChat === props.userData.uid ? \" HighLighted\" : \"\")\r\n            }\r\n            onClick={handleClick}\r\n        >\r\n            {props.userData ? <img className=\"ChatProfile\" src={props.userData.photoURL} alt=\"I\"/> : <></>}\r\n            {props.userData ? props.userData.displayName : <></> }\r\n        </div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { AllChats } from '../App';\r\nimport AddUser from './AddUser';\r\nimport Chat from './Chat';\r\n\r\nexport default function ChatList({toggleChatList}) {\r\n\r\n    const allChats = useContext(AllChats)\r\n    const [modal, setModal] = useState(false)\r\n\r\n    useEffect(()=>{\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"ChatList_Specific\">\r\n                {\r\n                    allChats && allChats.map((value, key)=>(\r\n                        <Chat key={key} userData={value} toggleChatList={toggleChatList}/>\r\n                    ))\r\n                }\r\n                <div class=\"Btn_Icon_Inverse Add_Person_Btn\" onClick={()=>{setModal(true)}}><span className=\"bi bi-person-plus-fill\"></span></div>\r\n            </div>\r\n            { modal && <AddUser setModal={setModal}/> }\r\n            <div className=\"OverLay\"></div>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState, useContext } from 'react'\r\nimport {CurrentChat, UserContext} from '../App'\r\nimport { addChat } from '../FireBase/RealtimeDB'\r\n\r\nexport default function ChatBox() {\r\n\r\n    const currentChat = useContext(CurrentChat)\r\n    const currentUser = useContext(UserContext)\r\n    const [message, setMessage] = useState(\"\")\r\n\r\n    function handleMessage(element){\r\n        setMessage(element.target.value)\r\n    }\r\n    function handleEnter(element){\r\n        if(element.key === \"Enter\"){\r\n            handleSubmit()\r\n        }\r\n    }\r\n    function handleSubmit(){\r\n        setMessage(prev => (\"\"))\r\n        addChat(currentUser.uid, currentChat, message)\r\n    }\r\n    return (\r\n        <div className=\"Flex ChatBox_Specific H_3rem\">\r\n            <div className=\"FlexAuto\">\r\n                <input \r\n                    type=\"text\" \r\n                    placeholder=\"Enter the message\" \r\n                    onChange={handleMessage} \r\n                    value={message} \r\n                    onKeyDown={handleEnter}\r\n                />\r\n            </div>\r\n            <div className=\"Btn_Icon SendIcon_Specific\">\r\n                <span className=\"bi bi-play\" onClick={handleSubmit}></span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport { CurrentChat, UserContext } from '../App'\r\nimport ChatBox from './ChatBox'\r\nimport { ChatHash } from '../FireBase/RealtimeDB'\r\nimport { doc, onSnapshot } from '@firebase/firestore'\r\nimport { FireStoreDb } from '../FireBase/FirestoreDB'\r\n\r\nexport default function ChatView() {\r\n\r\n    const currentChat = useContext(CurrentChat)\r\n    const currentUser = useContext(UserContext)\r\n    const [chatHistory, setChatHistory] = useState([])\r\n\r\n    const View = useRef(null)\r\n\r\n    useEffect(()=>{\r\n        if(currentChat && currentUser){\r\n            onSnapshot(doc(FireStoreDb, \"Chats\", ChatHash(currentUser.uid, currentChat)), (doc) => {\r\n                setChatHistory(doc.data().history)\r\n            })\r\n        }\r\n    }, [currentChat, currentUser])\r\n    useEffect(()=>{\r\n        View.current.scrollTop = View.current.scrollHeight\r\n    }, [chatHistory])\r\n\r\n    return (\r\n        <div className=\"Flex Flex_Align_Column W_FullScreen\">\r\n            <div className=\"FlexAuto ChatView_Specific\" ref={View}>\r\n                {\r\n                    currentChat ?\r\n                        <>\r\n                        { chatHistory && \r\n                            chatHistory.map((value, key)=>(\r\n                                <div key={key} className={ value.by === currentUser.uid ? \"right\" : \"left\"}>{value.message}</div>\r\n                            ))  \r\n                        }\r\n                        <br/>\r\n                    </> :\r\n                    <div \r\n                        className=\"Flex Flex_AI_Center Flex_JC_Center\" \r\n                        style={{\r\n                            color: \"#969ba0\", \r\n                            fontSize: \"1.2rem\",\r\n                            height: \"calc( 100vh - 3rem )\",\r\n                            textAlign: \"center\"\r\n                        }}\r\n                    >\r\n                        Please click on the top left icon to get started\r\n                    </div>\r\n                }\r\n            </div>\r\n            { currentChat && <ChatBox/> }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function NavBar(props) {\r\n    return (\r\n        <div className=\"H_3rem Bg_Blue Text_White NavBar_Specific Flex Flex_AI_Center\">\r\n            <div className=\"NavBarChatListIcon Btn_Icon\" onClick={props.toggleChatList}>\r\n                <span className=\"bi bi-person-lines-fill\"></span>\r\n            </div>\r\n            <div className=\"NavBarTitle\">Text</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport ChatList from './ChatList'\r\nimport ChatView from './ChatView'\r\nimport NavBar from './NavBar'\r\n\r\nexport default function Home() {\r\n\r\n    const [ChatListView, setChatListView] = useState(false)\r\n\r\n    function toggleChatList(){\r\n        setChatListView(prev => !prev)\r\n    }\r\n\r\n    return (\r\n        <div className=\"Pos_Relative Flex Flex_Align_Column H_FullScreen Home_Specific\">\r\n            <NavBar toggleChatList={toggleChatList}/>\r\n            <div className=\"FlexAuto Flex\">\r\n                {ChatListView && <ChatList toggleChatList={toggleChatList}/>}\r\n                <ChatView/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import { onAuthStateChanged } from \"@firebase/auth\";\nimport { doc, onSnapshot } from \"@firebase/firestore\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { auth } from \"./FireBase/Authentication\";\nimport { FireStoreDb, GetUser } from \"./FireBase/FirestoreDB\";\nimport GetIn from \"./GetIn/GetIn\";\nimport Home from \"./Home/Home\";\n\nexport const UserContext = createContext()\nexport const CurrentChat = createContext() // uid of opponent\nexport const SetCurrentChat = createContext()\nexport const AllChats = createContext()\n\nfunction App() {\n    const [User, setUser] = useState(false)\n    const [currentChat, setCurrentChat] = useState(undefined)\n    const [allChats, setAllChats] = useState([])\n    useEffect(()=>{\n        onAuthStateChanged(auth, (user)=>{\n            setUser(user)\n        })\n        if(User){\n            onSnapshot(doc(FireStoreDb, \"User\", User.uid), async (doc)=>{\n                let contactDetails = []\n                for(let each of doc.data().contacts){\n                    let data = await GetUser(each)\n                    contactDetails.push(data)\n                }\n                setAllChats(contactDetails)\n            })\n        }\n    }, [User])\n    return (\n        <UserContext.Provider value={User}>\n            <CurrentChat.Provider value={currentChat}>\n                <SetCurrentChat.Provider value={setCurrentChat}>\n                    <AllChats.Provider value={allChats}>\n                        <div>\n                            { User ? <Home/> : <GetIn/> }\n                        </div>\n                    </AllChats.Provider>\n                </SetCurrentChat.Provider>\n            </CurrentChat.Provider>\n        </UserContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport \"./styles/index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}